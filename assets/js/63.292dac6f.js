(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{376:function(t,s,c){"use strict";c.r(s);var l=c(4),o=Object(l.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("乐观锁和悲观锁")])]),t._v(" "),s("p",[t._v("悲观锁总是假设最坏的情况， 每次共享资源被访问都会加上这个锁，共享资源只能同时被一个线程访问")]),t._v(" "),s("p",[s("code",[t._v("synchronized")]),t._v(" "),s("code",[t._v("ReentantLock")]),t._v("等独占锁就是悲观锁的实现")]),t._v(" "),s("p",[t._v("乐观锁总是假设最好的情况，认为共享资源每次被访问的时候不会出现问题，在提交修改的时候去验证对应的资源是否被其他线程修改")]),t._v(" "),s("p",[t._v("乐观锁一般会使用版本号机制或者CAS算法实现")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("版本号")])]),t._v(" "),s("p",[t._v("增加一个字段版本号， 一个线程修改了数据， 版本号加一。提交之前， 判断当前版本号是否发生了变化")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("CAS")])]),t._v(" "),s("p",[t._v("compare and swap(比较与交换)， 用于实现乐观锁， 用一个预期值和更新的变量进行比较")]),t._v(" "),s("ul",[s("li",[t._v("要更新的变量值")]),t._v(" "),s("li",[t._v("预期值")]),t._v(" "),s("li",[t._v("拟写入的新值")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("synchronized")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://blogwang.oss-cn-hangzhou.aliyuncs.com/202306110851181.jpeg",alt:"3"}})])])}),[],!1,null,null,null);s.default=o.exports}}]);